<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Adventskalender â€“ Luca & Neo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #0b1020;
      --accent: #f5d76e;
      --accent-soft: #f9e7a8;
      --door: #c0392b;
      --door-dark: #962d22;
      --text: #f7f7f7;
      --open-bg: #1d2738;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #273c75, #0b1020);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .wrapper {
      max-width: 1000px;
      width: 100%;
      position: relative;
    }

    h1 {
      text-align: center;
      margin-bottom: 0.25rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 1.1rem;
      color: var(--accent-soft);
    }

    .subtitle {
      text-align: center;
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
      color: rgba(250, 250, 250, 0.75);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 12px;
      perspective: 1200px;
    }

    @media (max-width: 700px) {
      .calendar {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    .door {
      position: relative;
      height: 110px;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      background: linear-gradient(135deg, var(--door), var(--door-dark));
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.45);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .door:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.55);
    }

    .door-number {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--accent-soft);
      text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
    }

    .door.locked {
      cursor: default;
      background: linear-gradient(135deg, #444, #222);
    }

    .door.locked .door-number {
      color: #bbb;
    }

    .info {
      margin-top: 1rem;
      text-align: center;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .info-strong {
      color: var(--accent);
      font-weight: 600;
    }

    /* Overlay / Modal */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20;
      padding: 16px;
    }

    .overlay.visible {
      display: flex;
    }

    .detail-panel {
      max-width: 900px;
      width: 100%;
      background: rgba(6, 12, 24, 0.96);
      border-radius: 12px;
      padding: 16px 18px 14px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
      display: flex;
      flex-direction: column;
      gap: 10px;
      animation: popup 0.18s ease-out;
    }

    @keyframes popup {
      from {
        transform: translateY(8px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .detail-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .detail-title {
      font-weight: 600;
      font-size: 1rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent-soft);
    }

    .detail-close {
      border: none;
      background: transparent;
      color: rgba(255, 255, 255, 0.7);
      font-size: 1.2rem;
      cursor: pointer;
      padding: 2px 4px;
      line-height: 1;
    }

    .detail-close:hover {
      color: #fff;
    }

    .detail-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1fr);
      gap: 16px;
    }

    @media (max-width: 800px) {
      .detail-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .detail-text {
      font-size: 0.9rem;
      line-height: 1.5;
      white-space: pre-wrap;
    }

    .detail-image {
      border-radius: 8px;
      border: 1px dashed rgba(255, 255, 255, 0.25);
      min-height: 180px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.65);
      text-align: center;
      padding: 10px;
    }

    .detail-image img {
      max-width: 100%;
      height: auto;
      display: block;
      border-radius: 6px;
    }
  </style>
</head>
<body>
<div class="wrapper">
  <h1>Luca & Neo â€“ Adventskalender</h1>
  <p class="subtitle">Jeden Tag ein neues StÃ¼ck Geschichte. âœ¨</p>

  <div class="calendar" id="calendar"></div>

  <p class="info">
    TÃ¼ren sind basierend auf dem lokalen Datum deines GerÃ¤ts freigeschaltet.
    <span class="info-strong" id="todayLabel"></span>
  </p>
</div>

<!-- Overlay / Modal -->
<div class="overlay" id="overlay">
  <div class="detail-panel" role="dialog" aria-modal="true">
    <div class="detail-header">
      <div class="detail-title" id="detailTitle"></div>
      <button class="detail-close" id="closeOverlay" aria-label="SchlieÃŸen">Ã—</button>
    </div>
    <div class="detail-grid">
      <div class="detail-text" id="detailText"></div>
      <div class="detail-image" id="detailImage">
        <!-- Bild oder Platzhalter wird per JS eingefÃ¼gt -->
      </div>
    </div>
  </div>
</div>

<script>
  // Texte fÃ¼r die TÃ¼rchen
  const stories = {
    1: `Luca hat heute schon wieder schulfrei.

Wegen des allgegenwÃ¤rtigen Lehrermangels hÃ¤tte er ohnehin nur Geschichtsunterricht gehabt und dafÃ¼r extra in die Schule zu kommen, hÃ¤tte sich wirklich nicht gelohnt.

Nun sitzt er mit Neo am Rande des Weihnachtsmarkts, trinkt trotz des eisigen Wetters einen kalten Energydrink und dabei beobachtet das bunte Gewimmel um sie herum.`,

    2: `â€Koffein ist wie ein Kredit, weiÃŸt du? Tut so, als wÃ¼rde es dir Energie schenken. Dabei leiht es sie dir nur von spÃ¤terâ€œ, belehrte Neo.

â€Ey, kannst du mir mal meinen SpaÃŸ lassen?â€œ, stÃ¶hnte Luca. â€Ich hab schon zwei Eltern zuhause, die mich..Ohje, ich brauche dringend noch ein Geschenk fÃ¼r die beiden.â€œ

â€Ja, typisch Gen Zâ€œ, murmelte Neo. â€Einen Tag vor Heiligabend fÃ¤llt ihnen ein, dass sie Geschenke brauchen. Ich finde, das spricht BÃ¤nde Ã¼ber diese Generation, den Zustand unseres Landes, die wirtschaftliche Lage...â€œ

Luca schaute ihn an, als wÃ¼rde er ihm gleich die Dose an den Kopf werfen.`,

    3: `â€Junge, ich versuche nur ein Geschenk zu finden, nicht den Weltfrieden. AuÃŸerdem kann ich nichts dafÃ¼r, dass alle Erwachsenen die Modernisierung des Bildungssystems verpennt haben. Und die des Arbeitsmarkts. Und die Digitalisierung.â€œ

â€Kein Grund, sich aufzuregenâ€œ, sagte Neo und flog ein StÃ¼ck hÃ¶her, um dem potenziellen Flugobjekt auszuweichen.

â€Ich rege mich nicht auf. DafÃ¼r ist es vierzehn Jahre zu spÃ¤t. Es war schon zu spÃ¤t, als ich das erste Mal das Licht dieser Welt erblickt habe. Niemand hat mich gefragt, ob ich hier sein will. Und jetzt muss ich auch noch Geschenke kaufen.â€œ`,

    4: `â€Jaja, ich sehe schon, du bist die Ruhe selbst.â€œ

Die Dose sirrte knapp an Neos SchlÃ¤fe vorbei.

â€Hey, hey, du. Halt mal den Ball flach und deinen geflÃ¼gelten Zuckerschock auf dem Boden. Mir wurden schon meine FlÃ¼gel verliehen.â€œ
Neo war sichtlich amÃ¼siert.

â€Dein KÃ¶rper ist vielleicht unsterblich, aber dein Humor ist einfach totâ€œ, grummelte Luca.

â€Ist ja schon gut. Ich helfe dir mit deinem UnglÃ¼ck. Du musst ja nicht so um dich schlagen.â€œ erwiderte Neo groÃŸzÃ¼gig.`,

    5: `Neo breitete anmutig die FlÃ¼gel aus und der goldene Schimmer, der sonst immer von ihm ausging, wurde zu gleiÃŸend hellem Licht.

Der Weihnachtsmarkt mit all seinen bunten Lichtern verschwomm vor Lucas Augen zu einem Strudel warmer Farben, die der beiÃŸenden WinterkÃ¤lte trotzten. Er spÃ¼rte, wie er den Boden unter den FÃ¼ÃŸen verlor und sich ihm der Magen umdrehte. 
Alles wurde fÃ¼r einen Herzschlag lang gewichtslos.

Dann, plÃ¶tzlich, spÃ¼rte er wieder Boden.`,
//hier update stop 1.12.25 bis hierher perfekt
    6: `Luca stÃ¼tzte atemlos die HÃ¤nde auf die Knie, beugte sich vor und fÃ¤rbte den soeben noch makellosen Schnee rÃ¶chelnd mit seinem Erbrochenem.

â€Aggghâ€œ, krÃ¤chzte er. â€Ist das dein Ernst? Kannst du das...keine Ahnung...nur einmal vorher ansagen? Mir wird kotzÃ¼bel, wenn du einfach so durch die Zeit hÃ¼pfst.â€œ

Neo erwiderte etwas, aber Luca hÃ¶rte nicht zu. Er legte den Kopf in den Nacken und starrte die Mauer direkt vor seiner Nase hinauf.

Eine Stadtmauer, ohne Zweifel.

â€Wo sind wir?â€œ`,

    7: `â€Also, der erste Eindruck schreit Mittelalterâ€œ, meinte Neo gelassen. â€Die Geschichtsstunde heute hÃ¤tte dir nicht geschadet, was?â€œ

â€Wo und wann genau?â€œ

â€WeiÃŸ ich selbst nicht. Wo wÃ¤re da mein SpaÃŸ?â€œ

Nicht weit entfernt sahen sie Menschenmassen, die sich durch ein hÃ¶lzernes Stadttor schoben.

â€Ich weiÃŸ auf jeden Fall, dass man hier schon fÃ¼r weniger als einen fliegenden Begleiter, der heller als eine StraÃŸenlaterne leuchtet, auf dem Scheiterhaufen landetâ€œ, flÃ¼sterte Luca, wÃ¤hrend sie sich von den Massen durch das Tor tragen lieÃŸen.

â€Schutzengel hin oder her â€“ ich bin so froh, dass andere dich nicht sehen kÃ¶nnen. VerrÃ¤tst du mir eigentlich auch noch, was wir hier vorhaben?â€œ

â€Na, ich helfe dir, das Richtige fÃ¼r deine Eltern zu findenâ€œ, sagte Neo.`,

    8: `â€Soll ich ihnen die Pest mitbringen?â€œ, erwiderte Luca spÃ¶ttisch, als sie durch das Tor in eine Welt voller unbekannter GerÃ¤usche, GerÃ¼che und fremder Gestalten eintauchten.

Der Kontrast zu dem eben noch funkelnden Weihnachtsmarkt traf ihn hÃ¤rter als der Zeitsprung.

Windschiefe StÃ¤nde drÃ¤ngten sich dicht an dicht, als wÃ¼rden sie nur im Verbund stehen bleiben. Zwischen ihnen schoben sich Menschen und Tiere durch die einfallende DÃ¤mmerung, die nur von Laternen und Fackeln gebrochen wurde.

Neo hatte Lucas Bemerkungen mit einer ProfessionalitÃ¤t ignoriert, die auf Jahrhunderte an Erfahrung mit frechen Schutzkindern schlieÃŸen lieÃŸ. Er selbst schaute sich interessiert um.`,

    9: `â€Zugegebenâ€œ, sagte Luca, wÃ¤hrend er interessiert einen Stand mit Honigkuchen musterte, â€die Idee, hier etwas fÃ¼r meine Eltern zu kaufen, ist genial. Egal, was ich mitnehme â€“ es ist ein Unikat.â€œ

â€Vielleichtâ€œ, Neo lÃ¤chelte schrÃ¤g, â€aber Bedeutung entsteht nicht durch Seltenheit. Bedeutung lebt oft in Dingen, die auf den ersten Blick nichts Besonderes sind.â€œ

Luca schnaubte verÃ¤chtlich. â€Du hast recht. Vielleicht sollte ich ihnen einfach eine besonders bedeutsame Handvoll Stroh mitbringen oder so.â€œ

Er griff dabei in die Krippe einer meckernden Ziege.

â€Hey, Junge! Finger weg!â€œ, rief es hinter ihm.`,

    10: `Luca fuhr herum und fand sich auf AugenhÃ¶he mit der LederschÃ¼rze des Mannes wieder. Instinktiv trat er zwei Schritte zurÃ¼ck und kniff die Augen zusammen, um das dreckige Gesicht zu erkennen, das hoch Ã¼ber ihm thronte.

â€Oh, Junge â€¦â€œ, hÃ¶rte er Neo hinter sich seufzen.

â€Was erlaubst du dir, Junge?â€œ, donnerte der Mann.

â€Ich, Ã¤h â€¦â€œ

â€Willst du, dass ich dir die Ohren langziehe?â€œ`,

    11: `â€Nein, bitte nichtâ€œ, dachte Luca panisch und musste unwillkÃ¼rlich an Ilvi denken, die ihm vor zwei Jahren gnadenlos ehrlich gesagt hatte, dass er ganz allein die Energiewende bewÃ¤ltigen kÃ¶nne, da seine Ohren massives Windkraftpotenzial hÃ¤tten.

Seitdem waren seine Ohren ein sensibles Thema.

Neo, der das ganz genau wusste, konnte sich ein Prusten kaum verkneifen, besann sich aber angesichts der angespannten Lage und schnipste barmherzig mit den Fingern.

Luca spÃ¼rte, wie seine Hand gepackt wurde, und noch bevor er wusste, wie ihm geschah, zog ihn ein Junge, kaum grÃ¶ÃŸer als er, vom Stand weg. Weg von dem dunklen Mann, der ihnen sofort hinterherstÃ¼rzen wollte, nun aber, wie durch ein Wunder, plÃ¶tzlich den Strick um den Hals trug, mit dem gerade noch die Ziege an die Krippe gebunden gewesen war, die nun munter meckernd in Richtung Freiheit wackelte.`
  };

  // Bilder fÃ¼r die TÃ¼rchen
  // Lege die Dateien in denselben Ordner wie index.html
  const images = {
    1: "1.jpg",
    // z.B. spÃ¤ter:
    2: "2.jpg",
    // 3: "neo-und-luca.jpg",
    // ...
  };

  // Datum / Freischaltung
  function getTodayInfo() {
    const now = new Date();
    return {
      day: now.getDate(),
      month: now.getMonth(),
      year: now.getFullYear()
    };
  }

  const { day: todayDay, month: todayMonth, year: todayYear } = getTodayInfo();

  // echte Advent-Logik:
  const isDecember = todayMonth === 11; // 11 = Dezember
  const maxOpenDay = isDecember ? Math.min(todayDay, 24) : 0;

  // ğŸ‘‰ Zum Testen ALLES freischalten:
  // const isDecember = true;
  // const maxOpenDay = 24;

  const calendarEl = document.getElementById("calendar");
  const todayLabel = document.getElementById("todayLabel");
  const overlay = document.getElementById("overlay");
  const detailTitle = document.getElementById("detailTitle");
  const detailText = document.getElementById("detailText");
  const detailImage = document.getElementById("detailImage");
  const closeOverlayBtn = document.getElementById("closeOverlay");

  if (isDecember) {
    todayLabel.textContent = `Heute ist der ${todayDay}. Dezember ${todayYear}.`;
  } else {
    todayLabel.textContent = `Der Kalender schaltet TÃ¼rchen im Dezember frei.`;
  }

  function isDoorUnlocked(dayNumber) {
    return isDecember && dayNumber <= maxOpenDay;
  }

  // TÃ¼ren erzeugen
  for (let i = 1; i <= 24; i++) {
    const door = document.createElement("div");
    door.classList.add("door");
    door.dataset.day = i.toString();

    const num = document.createElement("div");
    num.classList.add("door-number");
    num.textContent = i.toString();
    door.appendChild(num);

    if (!isDoorUnlocked(i)) {
      door.classList.add("locked");
    }

    door.addEventListener("click", () => {
      if (!isDoorUnlocked(i)) {
        alert(`Dieses TÃ¼rchen kannst du erst am ${i}. Dezember Ã¶ffnen.`);
        return;
      }

      detailTitle.textContent = `TÃ¼rchen ${i}`;
      detailText.textContent = stories[i] || `FÃ¼r dieses TÃ¼rchen ist noch kein Text hinterlegt.`;

      const imgSrc = images[i];
      if (imgSrc) {
        detailImage.innerHTML = `<img src="${imgSrc}" alt="Bild zu TÃ¼rchen ${i}">`;
      } else {
        detailImage.innerHTML = `Hier kommt spÃ¤ter das Bild zu TÃ¼rchen ${i} hin. ğŸ¨`;
      }

      overlay.classList.add("visible");
    });

    calendarEl.appendChild(door);
  }

  function closeOverlay() {
    overlay.classList.remove("visible");
  }

  closeOverlayBtn.addEventListener("click", closeOverlay);

  overlay.addEventListener("click", (e) => {
    if (e.target === overlay) {
      closeOverlay();
    }
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      closeOverlay();
    }
  });
</script>
</body>
</html>
